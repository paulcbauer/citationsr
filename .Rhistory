# 1s X axis
axes3d(c('x'))
mtext3d("Time (X)", 'x', line = 2)
# 2nd X axis
axes3d('x+-')
mtext3d("Time (X)", 'x+-', line = 2)
# Left - Z-axis - Response axis/lab
axes3d('z')
mtext3d("Treatment (Z)", 'z', line = 2)
# Data 1
x <- c(2000,2001,2002,2003,2004,2005)
y <- c(1,1,1,1,1,1)
z <- c(3,4,5,2,1,0)
plot3d(x,y,z, axes=F, type="n",
ylab="", xlab="", zlab="",
xlim = c(1995,2015),
ylim = c(0,3),
zlim = c(0,10))
aspect3d(3,1,1)
# title3d('Time', 'sub', 'Time', 'Response', 'Groups')
# 1s X axis
axes3d(c('x'))
mtext3d("Time (X)", 'x', line = 2)
# 2nd X axis
axes3d('x+-')
mtext3d("Time (X)", 'x+-', line = 2)
# Left - Z-axis - Response axis/lab
axes3d('z')
mtext3d("Treatment (Z)", 'z', line = 2)
windows()
# Data 1
x <- c(2000,2001,2002,2003,2004,2005)
y <- c(1,1,1,1,1,1)
z <- c(3,4,5,2,1,0)
plot3d(x,y,z, axes=F, type="n",
ylab="", xlab="", zlab="",
xlim = c(1995,2015),
ylim = c(0,3),
zlim = c(0,10))
aspect3d(3,1,1)
# title3d('Time', 'sub', 'Time', 'Response', 'Groups')
# 1s X axis
axes3d(c('x'))
mtext3d("Time (X)", 'x', line = 2)
# 2nd X axis
axes3d('x+-')
mtext3d("Time (X)", 'x+-', line = 2)
# Left - Z-axis - Response axis/lab
axes3d('z')
mtext3d("Treatment (Z)", 'z', line = 2)
# Right- Z-axis - Response axis/lab
axes3d('z+-')
mtext3d("Response (Z)", 'z+-', line = 2)
library(rgl)
plot3d(x,y,z, axes=F, type="n",
ylab="", xlab="", zlab="",
xlim = c(2000,2010),
ylim = c(0,3),
zlim = c(0,10))
aspect3d(3,1,1)
# title3d('Time', 'sub', 'Time', 'Response', 'Groups')
library(citations)
library(citations)
setwd("C:/Users/paul/Google Drive/Research/2016_Quality_of_citations/data")
publicationdata <- read.table("publicationdata.txt", sep=";",
header = T, stringsAsFactors = F)
for (i in 1:6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
# Loop across rows of 'publicationdata'
for (i in 1:6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
# save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
library(citations)
for (i in 3){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
# save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 4){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
# save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 5){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
# save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
files <- list.files(folder, pattern = "txt$", full.names = T)
foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
.progress = "text")
# Replace NULL values in metadata tables
for(z in 1:nrow(foo)){for(y in 1:length(foo)){
if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
}}
# save metadatatables in data folder
save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
# Loop across rows of 'publicationdata'
for (i in 6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
#delete_refs_n_heads(folder = folder)
#clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 1:5){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
# rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
for (i in 1:6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
# extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
# delete_refs_n_heads(folder = folder)
# clean_text(folder = folder)
# EXTRACT CITATION CASES
#extract_citation_cases(folder = folder,
#                         authorname = authors,
#                         studyyear = year)
}
i <- 3
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
folder
study.title
authors
year
for (i in 3){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
extract_citation_cases(folder = folder,
authorname = authors,
studyyear = year)
}
for (i in 4){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
extract_citation_cases(folder = folder,
authorname = authors,
studyyear = year)
}
for (i in 5){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
extract_citation_cases(folder = folder,
authorname = authors,
studyyear = year)
}
for (i in 6){
# SPECIFY ARGUMENT FOR SINGLE FUNCTIONS
folder <- publicationdata[i,1]
study.title <- publicationdata[i,2]
authors <- publicationdata[i,3]
year <- publicationdata[i,4]
# TEXT EXTRACTION
extract_text(folder = folder)
# GETTING METADATA
# files <- list.files(folder, pattern = "txt$", full.names = T)
# foo <- plyr::adply(files[1:length(files)], .margins = 1, .fun = get_metadata_doc,
#                  .progress = "text")
# Replace NULL values in metadata tables
# for(z in 1:nrow(foo)){for(y in 1:length(foo)){
#    if(is.null(foo[z,y][[1]])){foo[z,y][[1]] <- NA}
#  }}
# save metadatatables in data folder
# save(foo, file = paste("./", folder, "_metadata.RData", sep=""))
# RENAME DOCS USING METADATA
rename_docs(folder = folder)
# IDENTIFY STUDY IN DOCS
# identify_study_doc(study.title = study.title,
#                  folder = folder)
# CLEAN TEXT FILES BEFORE CASE EXTRACTION
delete_refs_n_heads(folder = folder)
clean_text(folder = folder)
# EXTRACT CITATION CASES
extract_citation_cases(folder = folder,
authorname = authors,
studyyear = year)
}
